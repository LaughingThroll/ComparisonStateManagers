# ComparisonStateManagers

- MobX
- Redux-Toolkit
- RTK Query
- Effector
- Recoil

## MobX

Я уже пробовал MobX раньше и он блы мягко говоря непонятный. В этот раз я просидел над ним где то около 10 часов мне стали понятны базовые концепции. Этот state-manager основан на мутации данных. Реализует паттерн observer под капотом. Есть 4 базовых концепции.

- State - это то за чем мы наблюдаем(любой массив, обьект, строка число)
- Action - это действие которые мы хоти сделать со state(add, remove)
- Computed - это вычисления в зависимости от текущего state или любого другого условия
- Reaction - пока что не очень понимаю что это и с чем его едят

### Из плюсов:

- Он очень гибкий. Прям очень очень. Я мог комбинировать stores. Есть несколько способов комбинации:
  - Использовать наследование (осторожно makeAutoObserver не поддерживает наследование). Для этого нужна функция makeObserver и вручную обьявлять поля.
  - Использовать Dependency Injection
  - Сделать прямую зависимость(просто сделать import нужного MobXStore и использовать его внутри другого).
- Есть много способов передать state в компонент( напрямую import, прокинуть как props в компонент, использовать вместе с React.Context)
- Повторения ООП
- много звезд на GitHub
- нету проблем с типизацией
- имеет много store
- Есть DevTools только я им не пользовался.

### Из минусов:

- Из за того что очень гибкий слишком много мест, где можно накосячить в плане архитектуры(самый неприятный минус)
- Работая с redux-toolkit там есть специальный метод createAsyncThunk который отслеживает состояния fullfiled, rejected, pending и очень удобно с этим работать(увы здесь этого нету). Но это я уже балованый
- У меня иногда терялся this(такой себе минус в эпоху стрелочных функций)
- Нужны навыки ООП
- Я не нашел Best Practice в документации(хотя думаю они здесь нужны так как он очень гибкий и ни чем особо не ограничен). Возможно я плохо искал(читал пару статей по Best Practice MobX)
- Немного выбивается из styleGuide например у нас функциональные компоненты, но Stores написаны на классах(тоже небольшой минус).

### Мое заключения:

Мне он понравился из за гибкости и я могу воплотить с помощью MobX что угодно. Думаю придется немного подумать и изучить правильную архитектуру на MobX, что бы было легко вносить код (переход от useState к MobX был очень, прост все что я делал это CTRL + C/CTRL + V). Также немного глубже погрузится в MobX будет не лишним так как там много возможностей которые за один раз не сможеш понять(думаю это касаеться всех state-managers). Думаю стоит попробовать его в каком то проекте покрупнее.(Он очень гибкий!!!)
